{"version":3,"sources":["features/layout/TopBar.module.scss","features/layout/LeftNavBar.module.scss","app/App.module.scss","common/components/Select.module.scss","common/components/Button.module.scss","common/components/Dropdown.module.scss","features/layout/layoutSlice.ts","common/hooks.ts","features/auth/authSlice.ts","features/layout/LeftNavBar.tsx","features/layout/PageNotFound.tsx","features/navigator/Navigator.tsx","common/components/Button.tsx","common/components/Select.tsx","common/components/Dropdown.tsx","features/count/countSlice.ts","features/count/Counter.tsx","features/legacy/Legacy.tsx","features/auth/Auth.tsx","features/layout/TopBar.tsx","common/assets/logo/46_square.png","app/App.tsx","common/cookie.ts","app/store.ts","reportWebVitals.ts","index.tsx"],"names":["module","exports","initialState","pageTitle","undefined","environment","pageSlice","createSlice","name","reducers","setPageTitle","state","action","payload","setEnvironment","actions","useAppDispatch","useDispatch","useAppSelector","useSelector","defaultPageTitle","document","title","usePageTitle","dispatch","useEffect","AUTH_SERVICE","process","pending","authFromToken","createAsyncThunk","async","resp","fetch","method","headers","Authorization","token","ok","errmsg","statusText","json","error","message","Error","tokenInfo","revokeCurrentToken","_","thunkAPI","id","getState","auth","_tokenInfo","authSlice","extraReducers","builder","addCase","fulfilled","username","user","rejected","LeftNavBar","className","classes","nav_list","NavItem","path","desc","icon","faCompass","faUsers","faBook","faSearch","faSuitcase","faIdCard","faBullhorn","faExclamation","location","useLocation","itemClasses","nav_item","pathname","active","to","nav_icon","nav_desc","PageNotFound","Navigator","Button","props","button","join","type","Select","options","defaultHasIcons","doesHaveIcons","hasIcons","setHasIcons","useState","isFunc","classNames","horizontalMenuAlign","push","callOnChange","onChange","commonProps","classNamePrefix","components","formatOptionLabel","data","option_content","option_content_icon","label","isClearable","clearable","isDisabled","disabled","isMulti","multiple","value","loadOptions","newOpts","inputValue","defaultOptions","opts","some","optionOrGroup","DropdownIndicator","Dropdown","indicator","children","countSlice","count","increment","countStatus","Counter","currentCount","Count","onClick","Legacy","history","useHistory","legacyContent","useRef","legacyFrame","current","contentWindow","initPath","legacyPart","hash","initialLegacyPath","setInitialLegacyPath","legacyPath","setLegacyPath","badLegacyPath","setBadLegacyPath","legacyHeight","setLegacyHeight","pathAndHeightSync","setInterval","checkIFrameSameOrigin","alert","innerLocation","outerLocation","window","pathChanged","inner","outer","src","getIFrameHeight","clearInterval","useMonkeyPatchIFrameLinks","style","overflowY","frameBorder","ref","width","height","match","topFrame","checkInterval","checkFrames","currentFrames","length","frame","pop","frames","i","forEach","readyState","monkeyPatchIFrameLinks","addEventListener","head","querySelector","appendChild","createElement","setAttribute","iframe","iframeBody","body","checkheight","scrollHeight","toString","scrollY","innerHeight","parentElement","getBoundingClientRect","top","setHeight","scrollTo","Auth","LogoutForm","AuthForm","color","setToken","placeholder","e","target","TopBar","topbar","topbar_item","HamburgerMenu","alt","stretch","PageTitle","Enviroment","LoginMenu","login_menu","login_menu_username","faUser","faSignOutAlt","opt","login_menu_button","login_menu_icon","faSquare","faSortDown","hamburger_menu","origin","faFile","faPlus","faServer","faInfo","faEnvelope","faQuestion","href","hamburger_menu_icon","faBars","layout","page_title","env","ci","faFlask","unknown","faQuestionCircle","appdev","faWrench","txt","App","key","cookie","split","map","kv","trim","find","k","_v","getCookie","basename","container","left_navbar","page_content","exact","createStore","configureStore","reducer","store","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.981a99c6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"topbar\":\"TopBar_topbar__3xoma\",\"topbar_item\":\"TopBar_topbar_item__20292\",\"stretch\":\"TopBar_stretch__5Y5fJ\",\"hamburger_menu\":\"TopBar_hamburger_menu__1Nc7c\",\"hamburger_menu_icon\":\"TopBar_hamburger_menu_icon__3ZgFI\",\"page_title\":\"TopBar_page_title__1OjqW\",\"environment\":\"TopBar_environment__Lx09_\",\"login_menu\":\"TopBar_login_menu__agXq7\",\"login_menu_username\":\"TopBar_login_menu_username__2AgT3\",\"login_menu_button\":\"TopBar_login_menu_button__1n-4a\",\"login_menu_icon\":\"TopBar_login_menu_icon__RrxGE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav_list\":\"LeftNavBar_nav_list__iLWGq\",\"nav_item\":\"LeftNavBar_nav_item__35CL2\",\"active\":\"LeftNavBar_active__38wjJ\",\"nav_icon\":\"LeftNavBar_nav_icon__e2bJK\",\"nav_desc\":\"LeftNavBar_nav_desc__1vXc6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__MiK3W\",\"left_navbar\":\"App_left_navbar__SQTn7\",\"page_content\":\"App_page_content__1GAyC\",\"topbar\":\"App_topbar__Qqa7Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"react-select\":\"Select_react-select__3AP0a\",\"react-select--right\":\"Select_react-select--right__3i7Ff\",\"option_content\":\"Select_option_content__MAs3-\",\"option_content_icon\":\"Select_option_content_icon__30ltO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__dy3Mj\",\"button--orange\":\"Button_button--orange__qz8LE\",\"button--yellow\":\"Button_button--yellow__39O2j\",\"button--green\":\"Button_button--green__1jnMN\",\"button--grellow\":\"Button_button--grellow__XMsIY\",\"button--blue\":\"Button_button--blue__1qDlS\",\"button--ocean_blue\":\"Button_button--ocean_blue__1duT1\",\"button--teal\":\"Button_button--teal__2EkA4\",\"button--purple\":\"Button_button--purple__3iYfW\",\"button--frost_blue\":\"Button_button--frost_blue__3z68r\",\"button--red\":\"Button_button--red__1uXEY\",\"button--grey\":\"Button_button--grey__2blQ7\",\"button--white\":\"Button_button--white__113aw\",\"button--black\":\"Button_button--black__xRyDK\",\"button--ink\":\"Button_button--ink__2A2yA\",\"button--neutral\":\"Button_button--neutral__1N09L\",\"button--silver\":\"Button_button--silver__vJtBR\",\"button--base-lightest\":\"Button_button--base-lightest__1VdzN\",\"button--base-lighter\":\"Button_button--base-lighter__2fatb\",\"button--base-light\":\"Button_button--base-light__2MHXG\",\"button--base\":\"Button_button--base__1K6ls\",\"button--base-dark\":\"Button_button--base-dark__3FBIk\",\"button--base-darkest\":\"Button_button--base-darkest__1svmv\",\"button--primary-lightest\":\"Button_button--primary-lightest__2PHrk\",\"button--primary-lighter\":\"Button_button--primary-lighter__1eKQI\",\"button--primary-light\":\"Button_button--primary-light__1e3vb\",\"button--primary\":\"Button_button--primary__CMiIk\",\"button--primary-vivid\":\"Button_button--primary-vivid__1ZWxc\",\"button--primary-dark\":\"Button_button--primary-dark__fQWHL\",\"button--primary-darker\":\"Button_button--primary-darker__xKZUS\",\"button--secondary-lightest\":\"Button_button--secondary-lightest__38WC2\",\"button--secondary-lighter\":\"Button_button--secondary-lighter__3vQVa\",\"button--secondary-light\":\"Button_button--secondary-light__uMEFl\",\"button--secondary\":\"Button_button--secondary__1e0cQ\",\"button--secondary-vivid\":\"Button_button--secondary-vivid__2A61H\",\"button--secondary-dark\":\"Button_button--secondary-dark__1LQ2V\",\"button--secondary-darkest\":\"Button_button--secondary-darkest__2Jz7d\",\"button--accent-cool-lightest\":\"Button_button--accent-cool-lightest__3Zu74\",\"button--accent-cool-lighter\":\"Button_button--accent-cool-lighter__3fti9\",\"button--accent-cool-light\":\"Button_button--accent-cool-light__1yyds\",\"button--accent-cool\":\"Button_button--accent-cool__3Xgd-\",\"button--accent-cool-dark\":\"Button_button--accent-cool-dark__2hDMk\",\"button--accent-cool-darker\":\"Button_button--accent-cool-darker__immsh\",\"button--accent-warm-lightest\":\"Button_button--accent-warm-lightest__Xla-z\",\"button--accent-warm-lighter\":\"Button_button--accent-warm-lighter__2jrDk\",\"button--accent-warm-light\":\"Button_button--accent-warm-light__2G7qV\",\"button--accent-warm\":\"Button_button--accent-warm__vXmYD\",\"button--accent-warm-dark\":\"Button_button--accent-warm-dark__1Nuye\",\"button--accent-warm-darker\":\"Button_button--accent-warm-darker__1cOoV\",\"button--success-lightest\":\"Button_button--success-lightest__2wUDb\",\"button--success-lighter\":\"Button_button--success-lighter__2j8wQ\",\"button--success-light\":\"Button_button--success-light__2aE0B\",\"button--success\":\"Button_button--success__3vCMU\",\"button--success-dark\":\"Button_button--success-dark__G5BI0\",\"button--success-darker\":\"Button_button--success-darker__iR1cJ\",\"button--info-lightest\":\"Button_button--info-lightest__2dM7_\",\"button--info-lighter\":\"Button_button--info-lighter__3N_Vt\",\"button--info-light\":\"Button_button--info-light__2MiYm\",\"button--info\":\"Button_button--info__2smAM\",\"button--info-dark\":\"Button_button--info-dark__26IIe\",\"button--info-darker\":\"Button_button--info-darker__Gh1hS\",\"button--warning-lightest\":\"Button_button--warning-lightest__3ALzN\",\"button--warning-lighter\":\"Button_button--warning-lighter__372D9\",\"button--warning-light\":\"Button_button--warning-light__qDy6U\",\"button--warning\":\"Button_button--warning__3RIhA\",\"button--warning-dark\":\"Button_button--warning-dark__3LFfO\",\"button--warning-darker\":\"Button_button--warning-darker__JYMGP\",\"button--error-lightest\":\"Button_button--error-lightest__3dK53\",\"button--error-lighter\":\"Button_button--error-lighter__1iMHm\",\"button--error-light\":\"Button_button--error-light__3SizE\",\"button--error\":\"Button_button--error__3mR9r\",\"button--error-dark\":\"Button_button--error-dark__3Q7ul\",\"button--error-darker\":\"Button_button--error-darker__3UV_y\",\"button--disabled-lightest\":\"Button_button--disabled-lightest__1ijlQ\",\"button--disabled-light\":\"Button_button--disabled-light__2ceGa\",\"button--disabled\":\"Button_button--disabled__3T0_E\",\"button--disabled-dark\":\"Button_button--disabled-dark__-1HHP\",\"button--mid-green\":\"Button_button--mid-green__2TurF\",\"button--mid-blue\":\"Button_button--mid-blue__1QNpx\",\"button--icon-app\":\"Button_button--icon-app__3Tz2h\",\"button--icon-generic\":\"Button_button--icon-generic__YlhDR\",\"button--icon-type\":\"Button_button--icon-type__k35QE\",\"button--created\":\"Button_button--created__1tQgc\",\"button--estimating\":\"Button_button--estimating__3y4VD\",\"button--queued\":\"Button_button--queued__3FS55\",\"button--running\":\"Button_button--running__3kPz5\",\"button--completed\":\"Button_button--completed__zAYQj\",\"button--terminated\":\"Button_button--terminated__2tKSS\",\"button--does_not_exist\":\"Button_button--does_not_exist__3z4Im\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdown\":\"Dropdown_dropdown__QusLm\"};","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\ninterface PageState {\n  pageTitle?: string;\n  environment: 'unknown' | 'production' | 'ci' | 'appdev';\n}\n\nconst initialState: PageState = {\n  pageTitle: undefined,\n  environment: 'unknown',\n};\n\nexport const pageSlice = createSlice({\n  name: 'page',\n  initialState,\n  reducers: {\n    setPageTitle: (state, action: PayloadAction<string | undefined>) => {\n      state.pageTitle = action.payload;\n    },\n    setEnvironment: (\n      state,\n      action: PayloadAction<PageState['environment']>\n    ) => {\n      state.environment = action.payload;\n    },\n  },\n});\n\nexport default pageSlice.reducer;\nexport const { setPageTitle, setEnvironment } = pageSlice.actions;\n","import { useEffect } from 'react';\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from '../app/store';\nimport { setPageTitle } from '../features/layout/layoutSlice';\n\n// Use throughout the app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n\nconst defaultPageTitle = document.title;\n// Hook to set the page & document title. Resets the title on unmount\nexport const usePageTitle = (title: string) => {\n  const dispatch = useAppDispatch();\n  useEffect(() => {\n    dispatch(setPageTitle(title));\n    document.title = `KBase${title !== undefined ? `: ${title}` : ''}`;\n    return () => {\n      dispatch(setPageTitle(undefined));\n      document.title = defaultPageTitle;\n    };\n  }, [dispatch, title]);\n  return null;\n};\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n\nconst AUTH_SERVICE = process.env.REACT_APP_AUTH_SERIVCE_URL;\n\ninterface TokenInfo {\n  created: number;\n  expires: number;\n  id: string;\n  name: string | null;\n  type: string;\n  user: string;\n  cachefor: number;\n}\n\ninterface AuthState {\n  token?: string;\n  username?: string;\n  error?: string;\n  pending?: boolean;\n  _tokenInfo?: TokenInfo;\n}\n\nconst initialState: AuthState = {\n  pending: false,\n};\n\nexport const authFromToken = createAsyncThunk(\n  'auth/authFromToken',\n  async (token: string) => {\n    const resp = await fetch(`${AUTH_SERVICE}/api/V2/token`, {\n      method: 'GET',\n      headers: {\n        Authorization: token || '',\n      },\n    });\n    if (!resp.ok) {\n      let errmsg = resp.statusText;\n      try {\n        const e = (await resp.json()).error;\n        errmsg += `: ${e.message}`;\n      } catch {\n        // no-op\n      }\n      throw new Error(`Failed to validate token: \"${errmsg}\"`);\n    }\n    const tokenInfo = (await resp.json()) as TokenInfo;\n    return { token, tokenInfo };\n  }\n);\n\nexport const revokeCurrentToken = createAsyncThunk<\n  void,\n  void,\n  { state: { auth: AuthState } }\n>('auth/revokeCurrentToken', async (_, thunkAPI) => {\n  const id = thunkAPI.getState().auth._tokenInfo?.id;\n  const token = thunkAPI.getState().auth.token;\n  if (!id || !token) {\n    throw new Error('Failed to revoke token: No token to revoke');\n  }\n  const resp = await fetch(`${AUTH_SERVICE}/tokens/revoke/${id}`, {\n    method: 'DELETE',\n    headers: {\n      Authorization: token || '',\n    },\n  });\n  if (!resp.ok) {\n    throw new Error(`Failed to revoke token: ${resp.statusText}`);\n  }\n});\n\nexport const authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    builder\n      .addCase(authFromToken.pending, (state) => {\n        state.error = undefined;\n        state.pending = true;\n      })\n      .addCase(authFromToken.fulfilled, (state, action) => {\n        state.token = action.payload.token;\n        state.username = action.payload.tokenInfo.user;\n        state._tokenInfo = action.payload.tokenInfo;\n        state.pending = false;\n      })\n      .addCase(authFromToken.rejected, (state, action) => {\n        state.error = action.error.message;\n        state.username = undefined;\n        state._tokenInfo = undefined;\n        state.pending = false;\n      })\n      .addCase(revokeCurrentToken.pending, () => undefined)\n      .addCase(revokeCurrentToken.fulfilled, () => {\n        return initialState;\n      })\n      .addCase(revokeCurrentToken.rejected, () => undefined),\n});\n\nexport default authSlice.reducer;\n","import { FC } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport classes from './LeftNavBar.module.scss';\nimport { FontAwesomeIcon as FAIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faExclamation,\n  faCompass,\n  faUsers,\n  faBook,\n  faSearch,\n  faSuitcase,\n  faIdCard,\n  faBullhorn,\n  IconDefinition,\n} from '@fortawesome/free-solid-svg-icons';\n\nexport default function LeftNavBar() {\n  return (\n    <nav>\n      <ul className={classes.nav_list}>\n        <NavItem path=\"/\" desc=\"Navigator\" icon={faCompass} />\n        <NavItem path=\"/orgs\" desc=\"Orgs\" icon={faUsers} />\n        <NavItem path=\"/catalog\" desc=\"Catalog\" icon={faBook} />\n        <NavItem path=\"/search\" desc=\"Search\" icon={faSearch} />\n        <NavItem path=\"/jobs\" desc=\"Jobs\" icon={faSuitcase} />\n        <NavItem path=\"/account\" desc=\"Account\" icon={faIdCard} />\n        <NavItem path=\"/feeds\" desc=\"Feeds\" icon={faBullhorn} />\n        <NavItem path=\"/count\" desc=\"Count\" icon={faExclamation} />\n        <NavItem path=\"/auth\" desc=\"Auth\" icon={faExclamation} />\n      </ul>\n    </nav>\n  );\n}\n\nconst NavItem: FC<{ path: string; desc: string; icon: IconDefinition }> = ({\n  path,\n  desc,\n  icon,\n}) => {\n  const location = useLocation();\n  let itemClasses = classes.nav_item;\n  if (location.pathname === path) {\n    itemClasses += ` ${classes.active}`;\n  }\n  return (\n    <li className={itemClasses} key={path}>\n      <Link to={path}>\n        <FAIcon className={classes.nav_icon} icon={icon} />\n        <span className={classes.nav_desc}>{desc}</span>\n      </Link>\n    </li>\n  );\n};\n","export default function PageNotFound() {\n  return (\n    <section>\n      <h2>Page Not Found.</h2>\n    </section>\n  );\n}\n","import { usePageTitle } from '../../common/hooks';\n\nexport default function Navigator() {\n  usePageTitle('Narrative Navigator');\n  return (\n    <section>\n      <h2>Nothing here yet</h2>\n    </section>\n  );\n}\n","import { FunctionComponent as FC } from 'react';\nimport classes from './Button.module.scss';\n\nexport const Button: FC<React.ComponentProps<'button'>> = (props) => {\n  const className = [classes.button, props.className].join(' ');\n  return <button className={className} type={undefined} {...props} />;\n};\n","import { FC, ReactNode, useState, useEffect } from 'react';\nimport ReactSelect, {\n  GroupBase,\n  MultiValue,\n  OptionsOrGroups,\n  SingleValue,\n  Props as ReactSelectProps,\n} from 'react-select';\nimport AsyncSelect from 'react-select/async';\nimport classes from './Select.module.scss';\n\nexport interface SelectOption {\n  label: ReactNode;\n  value: string;\n  icon?: ReactNode;\n}\n\ntype OptionsArray = OptionsOrGroups<SelectOption, GroupBase<SelectOption>>;\ntype OptionsAsync = (inputValue: string) => Promise<OptionsArray>;\n\ninterface SelectProps {\n  /** Sets a className attribute on the outer component */\n  className?: string;\n  /** If true, adds a clickable icon for clearing the select */\n  clearable?: boolean;\n  /** Advanced: allows manualy manipulation of react-select subcomponents */\n  components?: ReactSelectProps<SelectOption>['components'];\n  /** If true, sets select to disabled */\n  disabled?: boolean;\n  /** Whether the dropdown select menu should be pinned to the left or right\n   * (default left) */\n  horizontalMenuAlign?: 'left' | 'right';\n  /** If true, sets select to multiple select mode */\n  multiple?: boolean;\n  /** onChange callback, triggered when the selected value changes */\n  onChange?: (value: SelectOption[]) => void;\n  /** The array of options & option groups (see react-select documentation) OR\n   * an async function which returns such an array given the input content */\n  options: OptionsArray | OptionsAsync;\n  /** If defined, sets the value of the select. */\n  value?: SingleValue<SelectOption> | MultiValue<SelectOption>;\n}\n\n/**\n * Select component that supports multiple selection, async options loading,\n * custom styling, and more.\n */\nexport const Select: FC<SelectProps> = (props) => {\n  const options = props.options;\n\n  // Detect how to format options based on if they have icons\n  const defaultHasIcons = doesHaveIcons(options);\n  const [hasIcons, setHasIcons] = useState(defaultHasIcons);\n\n  useEffect(() => {\n    // Detect if static option icons have changed\n    // needed so we can deal with icons set ansynchronously\n    if (!isFunc(options)) {\n      setHasIcons(defaultHasIcons);\n    }\n  }, [options, defaultHasIcons]);\n\n  // Add the right-aligned class if needed\n  const classNames = [classes['react-select'], props.className ?? ''];\n  if (props.horizontalMenuAlign === 'right') {\n    classNames.push(classes['react-select--right']);\n  }\n\n  const callOnChange =\n    props.onChange ??\n    (() => {\n      /* noop */\n    });\n  const handleChange = (\n    options: SingleValue<SelectOption> | MultiValue<SelectOption>\n  ) => {\n    if (options && 'value' in options) {\n      // one option returned\n      callOnChange([options]);\n    } else {\n      // multiple/no options returned\n      if (options) {\n        callOnChange([...options]);\n      } else {\n        callOnChange([]);\n      }\n    }\n  };\n\n  const handleFormatOptionLabel = (data: SelectOption) => {\n    return (\n      <span className={classes.option_content}>\n        {hasIcons && (\n          <span className={classes.option_content_icon}>{data.icon}</span>\n        )}\n        {data.label}\n      </span>\n    );\n  };\n\n  // Common between sync/async\n  const commonProps = {\n    className: classNames.join(' '),\n    /** classNamePrefix allows us to override the default styles by using global\n     * classes prefixed with the below */\n    classNamePrefix: 'react-select',\n    components: props.components,\n    formatOptionLabel: handleFormatOptionLabel,\n    isClearable: props.clearable,\n    isDisabled: props.disabled,\n    isMulti: props.multiple,\n    onChange: handleChange,\n    value: props.value,\n  };\n\n  return !isFunc(options) ? (\n    // Synchronous\n    <ReactSelect {...commonProps} options={options} />\n  ) : (\n    // Asynchronous\n    // Could later support pagination here with react-select-async-paginate\n    <AsyncSelect\n      {...commonProps}\n      loadOptions={async (inputValue: string) => {\n        const newOpts = await options(inputValue);\n        setHasIcons(doesHaveIcons(newOpts));\n        return newOpts;\n      }}\n      defaultOptions={true}\n    />\n  );\n};\n\nconst isFunc = (opts: SelectProps['options']): opts is OptionsAsync => {\n  return typeof opts === 'function';\n};\n\nconst doesHaveIcons = (opts: SelectProps['options']): boolean => {\n  // Double check that we're not dealing with async options\n  // mostly appeasing typescript here\n  if (isFunc(opts)) return false;\n  return opts.some((optionOrGroup) => {\n    if ('options' in optionOrGroup) {\n      return doesHaveIcons(optionOrGroup.options);\n    }\n    return !!optionOrGroup.icon;\n  });\n};\n","import { FC, ComponentPropsWithRef } from 'react';\nimport { components } from 'react-select';\nimport classes from './Dropdown.module.scss';\nimport { Select } from './Select';\n\nconst { DropdownIndicator } = components;\n\ntype DropdownProps = ComponentPropsWithRef<typeof Select>;\n\nexport const Dropdown: FC<DropdownProps> = (props) => {\n  const indicator = props.children;\n  return (\n    <Select\n      {...props}\n      value={null}\n      className={[classes['dropdown'], props.className].join(' ')}\n      components={{\n        DropdownIndicator: (props) => (\n          <DropdownIndicator {...props}>{indicator}</DropdownIndicator>\n        ),\n      }}\n    />\n  );\n};\n","import { createSlice } from '@reduxjs/toolkit';\nimport type { RootState } from '../../app/store';\n\n// Define a type for the slice state\ninterface CountState {\n  count: number;\n}\n\n// Define the initial state using that type\nconst initialState: CountState = {\n  count: 0,\n};\n\nexport const countSlice = createSlice({\n  name: 'count',\n  // `createSlice` will infer the state type from the `initialState` argument\n  initialState,\n  reducers: {\n    increment: (state) => {\n      state.count += 1;\n    },\n  },\n});\n\nexport default countSlice.reducer;\nexport const { increment } = countSlice.actions;\n// Other code such as selectors can use the imported `RootState` type\nexport const countStatus = (state: RootState) => state.count.count;\n","import { Button } from '../../common/components';\nimport {\n  useAppSelector,\n  useAppDispatch,\n  usePageTitle,\n} from '../../common/hooks';\nimport { countStatus, increment } from '../count/countSlice';\n\nconst Counter = () => {\n  const currentCount = useAppSelector(countStatus);\n  return <>{currentCount}</>;\n};\n\nexport default function Count() {\n  usePageTitle('Count');\n  const dispatch = useAppDispatch();\n  const doIncrement = () => {\n    dispatch(increment());\n  };\n  return (\n    <section>\n      <h2>\n        The count is: <Counter />\n      </h2>\n      <Button onClick={() => doIncrement()}>Add</Button>\n    </section>\n  );\n}\n","import { useEffect, useRef, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\n/** Creates and manages an iframe for any legacy KBaseUI page,\n * modifies the history to point to the iframe's path,\n * and sets the iframe's head>base element to have target=\"_top\",\n * so that navigation behaves as expected.\n * TODO: hide KBaseUI's topbar and left navbar.\n * TODO: extract title from iframe topbar and set it as the page title.\n */\nexport default function Legacy() {\n  const history = useHistory();\n\n  const legacyContent = useRef<HTMLIFrameElement>(null);\n  const legacyFrame = legacyContent?.current?.contentWindow;\n  const pathSyncInterval = 200;\n\n  // path state\n  const initPath =\n    legacyPart(history.location.pathname) + history.location.hash;\n  const [initialLegacyPath, setInitialLegacyPath] = useState<string>(initPath);\n  const [legacyPath, setLegacyPath] = useState<string>(initPath);\n  const [badLegacyPath, setBadLegacyPath] = useState<boolean>(false);\n\n  //height state\n  const [legacyHeight, setLegacyHeight] = useState<string>('0');\n\n  // This effect compares the outer and inner URLS (window URL and iframe URL)\n  // to the current known URL in state. If the inner URL differs, the state\n  // and outer URLs are updated to match the inner URL. If the outer URL\n  // differs, the inner and state URLs are updated to match the outer URL.\n  // If both inner & outer URLs differ from state, the inner URL takes\n  // precedence. It also manages the iframe height, as this needs to be updated\n  // manually.\n  useEffect(() => {\n    const pathAndHeightSync = setInterval(() => {\n      // check if iframe is inaccessible due to CORS\n      if (!checkIFrameSameOrigin(legacyContent.current?.contentWindow)) {\n        setBadLegacyPath(true);\n        alert(\n          // eslint-disable-next-line max-len\n          'Something went wrong: Could not load external link within legacy page iframe.'\n        );\n        return;\n      } else {\n        setBadLegacyPath(false);\n      }\n\n      // paths to sync\n      const innerLocation = legacyContent.current?.contentWindow?.location;\n      const outerLocation = window.location;\n      let pathChanged = false;\n\n      // ensure the iframe has mounted before trying to sync paths\n      if (innerLocation && innerLocation.pathname !== 'blank') {\n        const inner = innerLocation.pathname + (innerLocation.hash ?? '');\n        const outer =\n          legacyPart(outerLocation.pathname) + (outerLocation.hash ?? '');\n        if (inner !== legacyPath) {\n          setLegacyPath(inner);\n          pathChanged = true;\n          history.push(`/legacy${inner}`);\n        } else if (outer !== legacyPath) {\n          setLegacyPath(outer);\n          setInitialLegacyPath(outer);\n          legacyContent.current.src = outer;\n          pathChanged = true;\n        }\n      }\n\n      // set iframe height when the path changes or content exceeds the iframe\n      // this may be slow if the inner content changes height frequently\n      setLegacyHeight(\n        getIFrameHeight(legacyContent.current, pathChanged, legacyHeight)\n      );\n    }, pathSyncInterval);\n\n    return () => {\n      clearInterval(pathAndHeightSync);\n    };\n  }, [history, legacyContent, legacyPath, legacyHeight]);\n\n  // This effect recursively injects <base target=\"_top\"> into all child\n  // iframe's `<head>` tags. this is necessary to allow the iframe to navigate\n  // to third-party sites outside of the iframe.\n  useMonkeyPatchIFrameLinks(legacyFrame);\n\n  if (badLegacyPath) {\n    return null;\n  } else {\n    return (\n      <iframe\n        style={{ overflowY: 'hidden' }}\n        frameBorder=\"0\"\n        src={initialLegacyPath}\n        ref={legacyContent}\n        title=\"Legacy Content\"\n        width=\"100%\"\n        height={legacyHeight}\n      />\n    );\n  }\n}\n\nconst legacyPart = (path: string) =>\n  path.match(/(?:\\/legacy)+(\\/.*)$/)?.[1] || '/';\n\n/** Checks that an IFrame's contents can be seen without triggering CORS*/\nconst checkIFrameSameOrigin = (\n  contentWindow?: HTMLIFrameElement['contentWindow']\n) => {\n  try {\n    // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n    !!contentWindow?.document;\n  } catch (error) {\n    return false;\n  }\n  return true;\n};\n\n/** On an interval, traverse the window tree to find all iframes. Ignore\n * iframes that are cross-origin. Then, inject <base target=\"_top\"> into\n * all kbase iframe's `<head>` tags.*/\nconst useMonkeyPatchIFrameLinks = (topFrame?: Window | null) => {\n  useEffect(() => {\n    if (!topFrame) return; // exit early if the top level iframe DNE\n\n    const checkInterval = setInterval(() => {\n      const checkFrames: Window[] = [topFrame];\n      const currentFrames: Window[] = [];\n      while (checkFrames.length > 0) {\n        const frame = checkFrames.pop() as Window;\n        if (checkIFrameSameOrigin(frame)) {\n          if (frame.frames.length > 0) {\n            for (let i = 0; i < frame.frames.length; i++) {\n              checkFrames.push(frame.frames[i]);\n            }\n          }\n          currentFrames.push(frame);\n        }\n      }\n\n      currentFrames.forEach((frame) => {\n        // modify the iframes only after the DOM content has loaded\n        if (frame.document.readyState === 'complete') {\n          monkeyPatchIFrameLinks(frame);\n        } else {\n          frame.addEventListener('load', () => {\n            monkeyPatchIFrameLinks(frame);\n          });\n        }\n      });\n    }, 200);\n\n    return () => clearInterval(checkInterval);\n  }, [topFrame]);\n};\n\nconst monkeyPatchIFrameLinks = (frame: Window) => {\n  const base =\n    frame.document.head.querySelector('base') ||\n    frame.document.head.appendChild(frame.document.createElement('base'));\n  base.setAttribute('target', '_top');\n};\n\nconst getIFrameHeight = (\n  iframe: HTMLIFrameElement | null,\n  pathChanged: boolean,\n  legacyHeight: string\n) => {\n  const iframeBody = iframe?.contentWindow?.document.body;\n  const checkheight = iframeBody?.scrollHeight.toString();\n  if (iframe && checkheight && (pathChanged || checkheight !== legacyHeight)) {\n    const scrollY = window.scrollY; // save current scroll position\n    // reset iframe height to max container height, force reflow\n    iframe.height = (\n      window.innerHeight -\n      (iframe.parentElement?.getBoundingClientRect().top || 0) -\n      4\n    ).toString();\n    // use reflowed scroll height to set iframe height\n    const setHeight = iframeBody?.scrollHeight.toString() || checkheight;\n    iframe.height = setHeight;\n    window.scrollTo(0, scrollY); // restore scroll position\n    return setHeight;\n  }\n  return legacyHeight;\n};\n","import { useState } from 'react';\nimport { Button } from '../../common/components';\nimport {\n  useAppSelector,\n  useAppDispatch,\n  usePageTitle,\n} from '../../common/hooks';\nimport { authFromToken, revokeCurrentToken } from './authSlice';\n\nexport default function Auth() {\n  usePageTitle('Authentication');\n  const { username, token, error, pending } = useAppSelector(\n    (state) => state.auth\n  );\n  return (\n    <div>\n      <p>\n        {token ? `You are logged in as '${username}'` : `You are not logged in`}\n      </p>\n      {pending ? <p>Please wait...</p> : token ? <LogoutForm /> : <AuthForm />}\n      {error ? <span style={{ color: 'red' }}>{error}</span> : null}\n    </div>\n  );\n}\n\nconst AuthForm = () => {\n  const dispatch = useAppDispatch();\n  const [token, setToken] = useState<string>();\n  const doLogin = () => {\n    if (token) {\n      dispatch(authFromToken(token));\n    } else {\n      alert('Please enter a kbase token');\n    }\n  };\n  return (\n    <div>\n      <input\n        placeholder=\"kbase token\"\n        type=\"text\"\n        value={token ?? ''}\n        onChange={(e) => setToken(e.target.value)}\n      />\n      <Button onClick={doLogin}>Login</Button>\n    </div>\n  );\n};\n\nconst LogoutForm = () => {\n  const dispatch = useAppDispatch();\n  return (\n    <div>\n      <Button onClick={() => dispatch(revokeCurrentToken())}>\n        Logout of KBase\n      </Button>\n    </div>\n  );\n};\n","import { FC } from 'react';\nimport { useAppSelector } from '../../common/hooks';\nimport classes from './TopBar.module.scss';\nimport { FontAwesomeIcon as FAIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faBars,\n  faEnvelope,\n  faFile,\n  faFlask,\n  faIdCard,\n  faInfo,\n  faPlus,\n  faQuestion,\n  faQuestionCircle,\n  faSearch,\n  faServer,\n  faSignOutAlt,\n  faSortDown,\n  faSquare,\n  faUser,\n  faWrench,\n} from '@fortawesome/free-solid-svg-icons';\nimport { Dropdown } from '../../common/components';\nimport { useHistory } from 'react-router-dom';\n\nimport logo from '../../common/assets/logo/46_square.png';\n\nexport default function TopBar() {\n  return (\n    <header className={classes.topbar}>\n      <div className={classes.topbar_item}>\n        <HamburgerMenu />\n      </div>\n      <div className={classes.topbar_item}>\n        <img src={logo} alt=\"\" />\n      </div>\n      <div className={[classes.topbar_item, classes.stretch].join(' ')}>\n        <PageTitle />\n      </div>\n      <div className={classes.topbar_item}>\n        <Enviroment />\n      </div>\n      <div className={classes.topbar_item}>\n        <LoginMenu />\n      </div>\n    </header>\n  );\n}\n\nconst LoginMenu: FC = () => {\n  const history = useHistory();\n  return (\n    <div className={classes.login_menu}>\n      <Dropdown\n        horizontalMenuAlign=\"right\"\n        options={[\n          {\n            options: [\n              {\n                value: '',\n                icon: undefined,\n                label: (\n                  <div>\n                    <div>First Last</div>\n                    <div className={classes.login_menu_username}>username</div>\n                  </div>\n                ),\n              },\n            ],\n          },\n          {\n            options: [\n              {\n                value: '#your_profile',\n                icon: <FAIcon icon={faUser} />,\n                label: 'Your Profile',\n              },\n              {\n                value: '#your_account',\n                icon: <FAIcon icon={faIdCard} />,\n                label: 'Your Account',\n              },\n            ],\n          },\n          {\n            options: [\n              {\n                value: '#sign_out',\n                icon: <FAIcon icon={faSignOutAlt} />,\n                label: 'Sign Out',\n              },\n            ],\n          },\n        ]}\n        onChange={(opt) => {\n          if (opt?.[0]) history.push(opt[0].value);\n        }}\n      >\n        <div className={classes.login_menu_button}>\n          <FAIcon className={classes.login_menu_icon} icon={faSquare} />\n          <FAIcon icon={faSortDown} />\n        </div>\n      </Dropdown>\n    </div>\n  );\n};\n\nconst HamburgerMenu: FC = () => {\n  return (\n    <div className={classes.hamburger_menu}>\n      <Dropdown\n        options={[\n          {\n            options: [\n              {\n                value: window.location.origin + '/#narrativemanager/start',\n                icon: <FAIcon icon={faFile} />,\n                label: 'Narrative Interface',\n              },\n              {\n                value: window.location.origin + '/#narrativemanager/new',\n                icon: <FAIcon icon={faPlus} />,\n                label: 'New Narrative',\n              },\n              {\n                value: window.location.origin + '/#jgi-search',\n                icon: <FAIcon icon={faSearch} />,\n                label: 'JGI Search',\n              },\n              {\n                value: window.location.origin + '/#biochem-search',\n                icon: <FAIcon icon={faSearch} />,\n                label: 'Biochem Search',\n              },\n            ],\n          },\n          {\n            options: [\n              {\n                value: window.location.origin + '/#about/services',\n                icon: <FAIcon icon={faServer} />,\n                label: 'KBase Services Status',\n              },\n            ],\n          },\n          {\n            options: [\n              {\n                value: window.location.origin + '/#about',\n                icon: <FAIcon icon={faInfo} />,\n                label: 'About',\n              },\n              {\n                value: 'https://kbase.us/contact-us',\n                icon: <FAIcon icon={faEnvelope} />,\n                label: 'Contact KBase',\n              },\n              {\n                value: 'https://kbase.us/narrative-guide/',\n                icon: <FAIcon icon={faQuestion} />,\n                label: 'Support',\n              },\n            ],\n          },\n        ]}\n        onChange={(opt) => {\n          if (opt?.[0]) window.location.href = opt[0].value;\n        }}\n      >\n        <FAIcon className={classes.hamburger_menu_icon} icon={faBars} />\n      </Dropdown>\n    </div>\n  );\n};\n\nconst PageTitle: FC = () => {\n  const title = useAppSelector((state) => state.layout.pageTitle);\n  return (\n    <div className={classes.page_title}>\n      <span>{title || ''}</span>\n    </div>\n  );\n};\n\nconst Enviroment: FC = () => {\n  const env = useAppSelector((state) => state.layout.environment);\n  if (env === 'production') return null;\n  const icon = {\n    ci: faFlask,\n    unknown: faQuestionCircle,\n    appdev: faWrench,\n  }[env];\n  const txt = {\n    ci: 'CI',\n    unknown: '??',\n    appdev: 'APPDEV',\n  }[env];\n  return (\n    <div className={classes.environment}>\n      <span>{txt}</span>\n      <FAIcon icon={icon} />\n    </div>\n  );\n};\n","export default \"data:image/png;base64,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\"","import classes from './App.module.scss';\n\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { useAppDispatch } from '../common/hooks';\nimport { useEffect } from 'react';\nimport { authFromToken } from '../features/auth/authSlice';\nimport { setEnvironment } from '../features/layout/layoutSlice';\nimport { getCookie } from '../common/cookie';\n\nimport LeftNavBar from '../features/layout/LeftNavBar';\nimport PageNotFound from '../features/layout/PageNotFound';\n\nimport Navigator from '../features/navigator/Navigator';\nimport Count from '../features/count/Counter';\nimport Legacy from '../features/legacy/Legacy';\nimport Auth from '../features/auth/Auth';\nimport TopBar from '../features/layout/TopBar';\n\nexport default function App() {\n  const dispatch = useAppDispatch();\n\n  // Pull token from cookie. If it exists, use it for auth.\n  const token = getCookie('kbase_session');\n  useEffect(() => {\n    if (token) dispatch(authFromToken(token));\n  }, [dispatch, token]);\n\n  // Placeholder code for determining environment.\n  useEffect(() => {\n    dispatch(setEnvironment('ci'));\n  }, [dispatch]);\n\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <div className={classes.container}>\n        <div className={classes.topbar}>\n          <TopBar />\n        </div>\n        <div className={classes.left_navbar}>\n          <LeftNavBar />\n        </div>\n        <div className={classes.page_content}>\n          <Switch>\n            <Route path=\"/legacy/*\">\n              <Legacy />\n            </Route>\n            <Route path=\"/count\">\n              <Count />\n            </Route>\n            <Route path=\"/auth\">\n              <Auth />\n            </Route>\n            <Route exact path=\"/\">\n              <Navigator />\n            </Route>\n            <Route path=\"*\">\n              <PageNotFound />\n            </Route>\n          </Switch>\n        </div>\n      </div>\n    </Router>\n  );\n}\n","export function getCookie(key: string) {\n  const cookie = document.cookie\n    .split(';')\n    .map((kv) => kv.trim().split('='))\n    .find(([k, _v]) => k.trim() === key);\n  if (cookie) {\n    return cookie[1];\n  } else {\n    return undefined;\n  }\n}\n","import { configureStore } from '@reduxjs/toolkit';\nimport count from '../features/count/countSlice';\nimport auth from '../features/auth/authSlice';\nimport layout from '../features/layout/layoutSlice';\n\nconst createStore = () =>\n  configureStore({\n    reducer: { count, auth, layout },\n  });\n\nexport const store = createStore();\nexport const createTestStore = createStore;\n\n// Infer the `RootState` and `AppDispatch` types from the store itself\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.scss';\nimport App from './app/App';\nimport { store } from './app/store';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}