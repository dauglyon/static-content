(this["webpackJsonpui-refresh-test"]=this["webpackJsonpui-refresh-test"]||[]).push([[0],{10:function(e,t,n){e.exports={topbar:"TopBar_topbar__3xoma",topbar_item:"TopBar_topbar_item__20292",stretch:"TopBar_stretch__5Y5fJ",hamburger_menu:"TopBar_hamburger_menu__1Nc7c",page_title:"TopBar_page_title__1OjqW",environment:"TopBar_environment__Lx09_",login_menu:"TopBar_login_menu__agXq7"}},13:function(e,t,n){e.exports={nav_list:"LeftNavBar_nav_list__iLWGq",nav_item:"LeftNavBar_nav_item__35CL2",active:"LeftNavBar_active__38wjJ",nav_icon:"LeftNavBar_nav_icon__e2bJK",nav_desc:"LeftNavBar_nav_desc__1vXc6"}},16:function(e,t,n){e.exports={container:"App_container__MiK3W",left_navbar:"App_left_navbar__SQTn7",page_content:"App_page_content__1GAyC",topbar:"App_topbar__Qqa7Z"}},35:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(19),o=n.n(s),r=n(15),i=(n(35),n(16)),j=n.n(i),d=n(20),l=n(4),u=n(11);const b={pageTitle:void 0,environment:"unknown"},x=Object(u.c)({name:"page",initialState:b,reducers:{setPageTitle:(e,t)=>{e.pageTitle=t.payload},setEnvironment:(e,t)=>{e.environment=t.payload}}});var h=x.reducer;const{setPageTitle:p,setEnvironment:O}=x.actions,m=()=>Object(r.b)(),v=r.c,g=document.title,A=e=>{const t=m();return Object(a.useEffect)((()=>(t(p(e)),document.title="KBase"+(void 0!==e?`: ${e}`:""),()=>{t(p(void 0)),document.title=g})),[t,e]),null},_="https://ci.kbase.us/services/auth",f={pending:!1},k=Object(u.b)("auth/authFromToken",(async e=>{const t=await fetch(`${_}/api/V2/token`,{method:"GET",headers:{Authorization:e||""}});if(!t.ok){let e=t.statusText;try{e+=`: ${(await t.json()).error.message}`}catch{}throw new Error(`Failed to validate token: "${e}"`)}return{token:e,tokenInfo:await t.json()}})),E=Object(u.b)("auth/revokeCurrentToken",(async(e,t)=>{var n;const a=null===(n=t.getState().auth._tokenInfo)||void 0===n?void 0:n.id,c=t.getState().auth.token;if(!a||!c)throw new Error("Failed to revoke token: No token to revoke");const s=await fetch(`${_}/tokens/revoke/${a}`,{method:"DELETE",headers:{Authorization:c||""}});if(!s.ok)throw new Error(`Failed to revoke token: ${s.statusText}`)}));var C=Object(u.c)({name:"auth",initialState:f,reducers:{},extraReducers:e=>e.addCase(k.pending,(e=>{e.error=void 0,e.pending=!0})).addCase(k.fulfilled,((e,t)=>{e.token=t.payload.token,e.username=t.payload.tokenInfo.user,e._tokenInfo=t.payload.tokenInfo,e.pending=!1})).addCase(k.rejected,((e,t)=>{e.error=t.error.message,e.username=void 0,e._tokenInfo=void 0,e.pending=!1})).addCase(E.pending,(()=>{})).addCase(E.fulfilled,(()=>f)).addCase(E.rejected,(()=>{}))}).reducer;var N=n(13),T=n.n(N),F=n(12),q=n(5),B=n(1);function L(){return Object(B.jsx)("nav",{children:Object(B.jsxs)("ul",{className:T.a.nav_list,children:[Object(B.jsx)(w,{path:"/",desc:"Navigator",icon:q.d}),Object(B.jsx)(w,{path:"/orgs",desc:"Orgs",icon:q.m}),Object(B.jsx)(w,{path:"/catalog",desc:"Catalog",icon:q.b}),Object(B.jsx)(w,{path:"/search",desc:"Search",icon:q.i}),Object(B.jsx)(w,{path:"/jobs",desc:"Jobs",icon:q.k}),Object(B.jsx)(w,{path:"/account",desc:"Account",icon:q.g}),Object(B.jsx)(w,{path:"/feeds",desc:"Feeds",icon:q.c}),Object(B.jsx)(w,{path:"/count",desc:"Count",icon:q.e}),Object(B.jsx)(w,{path:"/auth",desc:"Auth",icon:q.e})]})})}const w=({path:e,desc:t,icon:n})=>{const a=Object(l.f)();let c=T.a.nav_item;return a.pathname===e&&(c+=` ${T.a.active}`),Object(B.jsx)("li",{className:c,children:Object(B.jsxs)(d.b,{to:e,children:[Object(B.jsx)(F.a,{className:T.a.nav_icon,icon:n}),Object(B.jsx)("span",{className:T.a.nav_desc,children:t})]})},e)};function y(){return Object(B.jsx)("section",{children:Object(B.jsx)("h2",{children:"Page Not Found."})})}function Z(){return A("Narrative Navigator"),Object(B.jsx)("section",{children:Object(B.jsx)("h2",{children:"Nothing here yet"})})}const Y=Object(u.c)({name:"count",initialState:{count:0},reducers:{increment:e=>{e.count+=1}}});var P=Y.reducer;const{increment:S}=Y.actions,K=e=>e.count.count,X=()=>{const e=v(K);return Object(B.jsx)(B.Fragment,{children:e})};function W(){A("Count");const e=m();return Object(B.jsxs)("section",{children:[Object(B.jsxs)("h2",{children:["The count is: ",Object(B.jsx)(X,{})]}),Object(B.jsx)("button",{onClick:()=>{e(S())},children:"Add"})]})}function I(){A("Authentication");const{username:e,token:t,error:n,pending:a}=v((e=>e.auth));return Object(B.jsxs)("div",{children:[Object(B.jsx)("p",{children:t?`You are logged in as '${e}'`:"You are not logged in"}),a?Object(B.jsx)("p",{children:"Please wait..."}):t?Object(B.jsx)(J,{}):Object(B.jsx)(Q,{}),n?Object(B.jsx)("span",{style:{color:"red"},children:n}):null]})}const Q=()=>{const e=m(),[t,n]=Object(a.useState)();return Object(B.jsxs)("div",{children:[Object(B.jsx)("input",{placeholder:"kbase token",type:"text",value:null!==t&&void 0!==t?t:"",onChange:e=>n(e.target.value)}),Object(B.jsx)("button",{onClick:()=>{t?e(k(t)):alert("Please enter a kbase token")},children:"Login"})]})},J=()=>{const e=m();return Object(B.jsx)("div",{children:Object(B.jsx)("button",{onClick:()=>e(E()),children:"Logout of KBase"})})};var G=n(10),D=n.n(G);function H(){return Object(B.jsxs)("header",{className:D.a.topbar,children:[Object(B.jsx)("div",{className:D.a.topbar_item,children:Object(B.jsx)(z,{})}),Object(B.jsx)("div",{className:D.a.topbar_item,children:Object(B.jsx)("img",{src:"data:image/png;base64,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",alt:""})}),Object(B.jsx)("div",{className:[D.a.topbar_item,D.a.stretch].join(" "),children:Object(B.jsx)(M,{})}),Object(B.jsx)("div",{className:D.a.topbar_item,children:Object(B.jsx)(R,{})}),Object(B.jsxs)("div",{className:D.a.login_menu,children:[Object(B.jsx)(F.a,{icon:q.l}),Object(B.jsx)(F.a,{icon:q.j})]})]})}const z=()=>Object(B.jsx)("div",{className:D.a.hamburger_menu,children:Object(B.jsx)(F.a,{icon:q.a})}),M=()=>{const e=v((e=>e.layout.pageTitle));return Object(B.jsx)("div",{className:D.a.page_title,children:Object(B.jsx)("span",{children:e||""})})},R=()=>{const e=v((e=>e.layout.environment));if("production"===e)return null;const t={ci:q.f,unknown:q.h,appdev:q.n}[e],n={ci:"CI",unknown:"??",appdev:"APPDEV"}[e];return Object(B.jsxs)("div",{className:D.a.environment,children:[Object(B.jsx)("span",{children:n}),Object(B.jsx)(F.a,{icon:t})]})};function V(){const e=m(),t=function(e){const t=document.cookie.split(";").map((e=>e.trim().split("="))).find((([t,n])=>t.trim()===e));return t?t[1]:void 0}("kbase_session");return Object(a.useEffect)((()=>{t&&e(k(t))}),[e,t]),Object(a.useEffect)((()=>{e(O("ci"))}),[e]),Object(B.jsx)(d.a,{basename:"/services/static-content",children:Object(B.jsxs)("div",{className:j.a.container,children:[Object(B.jsx)("div",{className:j.a.topbar,children:Object(B.jsx)(H,{})}),Object(B.jsx)("div",{className:j.a.left_navbar,children:Object(B.jsx)(L,{})}),Object(B.jsx)("div",{className:j.a.page_content,children:Object(B.jsxs)(l.c,{children:[Object(B.jsx)(l.a,{path:"/count",children:Object(B.jsx)(W,{})}),Object(B.jsx)(l.a,{path:"/auth",children:Object(B.jsx)(I,{})}),Object(B.jsx)(l.a,{exact:!0,path:"/",children:Object(B.jsx)(Z,{})}),Object(B.jsx)(l.a,{path:"*",children:Object(B.jsx)(y,{})})]})})]})})}const U=()=>Object(u.a)({reducer:{count:P,auth:C,layout:h}}),$=U();var ee=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((({getCLS:t,getFID:n,getFCP:a,getLCP:c,getTTFB:s})=>{t(e),n(e),a(e),c(e),s(e)}))};o.a.render(Object(B.jsx)(c.a.StrictMode,{children:Object(B.jsx)(r.a,{store:$,children:Object(B.jsx)(V,{})})}),document.getElementById("root")),ee()}},[[43,1,2]]]);
//# sourceMappingURL=main.76b34c4e.chunk.js.map