(this["webpackJsonpui-refresh-test"]=this["webpackJsonpui-refresh-test"]||[]).push([[0],{12:function(e,t,n){e.exports={topbar:"TopBar_topbar__3xoma",topbar_item:"TopBar_topbar_item__20292",stretch:"TopBar_stretch__5Y5fJ",hamburger_menu:"TopBar_hamburger_menu__1Nc7c",hamburger_menu_icon:"TopBar_hamburger_menu_icon__3ZgFI",page_title:"TopBar_page_title__1OjqW",environment:"TopBar_environment__Lx09_",login_menu:"TopBar_login_menu__agXq7",login_menu_username:"TopBar_login_menu_username__2AgT3",login_menu_button:"TopBar_login_menu_button__1n-4a",login_menu_icon:"TopBar_login_menu_icon__RrxGE"}},27:function(e,t,n){e.exports={nav_list:"LeftNavBar_nav_list__iLWGq",nav_item:"LeftNavBar_nav_item__35CL2",active:"LeftNavBar_active__38wjJ",nav_icon:"LeftNavBar_nav_icon__e2bJK",nav_desc:"LeftNavBar_nav_desc__1vXc6"}},30:function(e,t,n){e.exports={container:"App_container__MiK3W",left_navbar:"App_left_navbar__SQTn7",page_content:"App_page_content__1GAyC",topbar:"App_topbar__Qqa7Z"}},32:function(e,t,n){e.exports={"react-select":"Select_react-select__3AP0a","react-select--right":"Select_react-select--right__3i7Ff",option_content:"Select_option_content__MAs3-",option_content_icon:"Select_option_content_icon__30ltO"}},47:function(e,t,n){e.exports={dropdown:"Dropdown_dropdown__QusLm"}},57:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(20),i=n.n(o),s=n(29),r=(n(57),n(30)),l=n.n(r),j=n(28),u=n(8),d=n(17);const b={pageTitle:void 0,environment:"unknown"},x=Object(d.c)({name:"page",initialState:b,reducers:{setPageTitle:(e,t)=>{e.pageTitle=t.payload},setEnvironment:(e,t)=>{e.environment=t.payload}}});var h=x.reducer;const{setPageTitle:p,setEnvironment:m}=x.actions,O=()=>Object(s.b)(),_=s.c,v=document.title,g=e=>{const t=O();return Object(a.useEffect)((()=>(t(p(e)),document.title="KBase"+(void 0!==e?`: ${e}`:""),()=>{t(p(void 0)),document.title=v})),[t,e]),null},A="https://ci.kbase.us/services/auth",f={pending:!1},k=Object(d.b)("auth/authFromToken",(async e=>{const t=await fetch(`${A}/api/V2/token`,{method:"GET",headers:{Authorization:e||""}});if(!t.ok){let e=t.statusText;try{e+=`: ${(await t.json()).error.message}`}catch{}throw new Error(`Failed to validate token: "${e}"`)}return{token:e,tokenInfo:await t.json()}})),N=Object(d.b)("auth/revokeCurrentToken",(async(e,t)=>{var n;const a=null===(n=t.getState().auth._tokenInfo)||void 0===n?void 0:n.id,c=t.getState().auth.token;if(!a||!c)throw new Error("Failed to revoke token: No token to revoke");const o=await fetch(`${A}/tokens/revoke/${a}`,{method:"DELETE",headers:{Authorization:c||""}});if(!o.ok)throw new Error(`Failed to revoke token: ${o.statusText}`)}));var w=Object(d.c)({name:"auth",initialState:f,reducers:{},extraReducers:e=>e.addCase(k.pending,(e=>{e.error=void 0,e.pending=!0})).addCase(k.fulfilled,((e,t)=>{e.token=t.payload.token,e.username=t.payload.tokenInfo.user,e._tokenInfo=t.payload.tokenInfo,e.pending=!1})).addCase(k.rejected,((e,t)=>{e.error=t.error.message,e.username=void 0,e._tokenInfo=void 0,e.pending=!1})).addCase(N.pending,(()=>{})).addCase(N.fulfilled,(()=>f)).addCase(N.rejected,(()=>{}))}).reducer;var E=n(27),C=n.n(E),T=n(9),F=n(7),B=n(1);function S(){return Object(B.jsx)("nav",{children:Object(B.jsxs)("ul",{className:C.a.nav_list,children:[Object(B.jsx)(q,{path:"/",desc:"Navigator",icon:F.d}),Object(B.jsx)(q,{path:"/orgs",desc:"Orgs",icon:F.u}),Object(B.jsx)(q,{path:"/catalog",desc:"Catalog",icon:F.b}),Object(B.jsx)(q,{path:"/search",desc:"Search",icon:F.n}),Object(B.jsx)(q,{path:"/jobs",desc:"Jobs",icon:F.s}),Object(B.jsx)(q,{path:"/account",desc:"Account",icon:F.i}),Object(B.jsx)(q,{path:"/feeds",desc:"Feeds",icon:F.c}),Object(B.jsx)(q,{path:"/count",desc:"Count",icon:F.f}),Object(B.jsx)(q,{path:"/auth",desc:"Auth",icon:F.f})]})})}const q=({path:e,desc:t,icon:n})=>{const a=Object(u.g)();let c=C.a.nav_item;return a.pathname===e&&(c+=` ${C.a.active}`),Object(B.jsx)("li",{className:c,children:Object(B.jsxs)(j.b,{to:e,children:[Object(B.jsx)(T.a,{className:C.a.nav_icon,icon:n}),Object(B.jsx)("span",{className:C.a.nav_desc,children:t})]})},e)};function L(){return Object(B.jsx)("section",{children:Object(B.jsx)("h2",{children:"Page Not Found."})})}function y(){return g("Narrative Navigator"),Object(B.jsx)("section",{children:Object(B.jsx)("h2",{children:"Nothing here yet"})})}const P=Object(d.c)({name:"count",initialState:{count:0},reducers:{increment:e=>{e.count+=1}}});var Y=P.reducer;const{increment:Z}=P.actions,I=e=>e.count.count,K=()=>{const e=_(I);return Object(B.jsx)(B.Fragment,{children:e})};function X(){g("Count");const e=O();return Object(B.jsxs)("section",{children:[Object(B.jsxs)("h2",{children:["The count is: ",Object(B.jsx)(K,{})]}),Object(B.jsx)("button",{onClick:()=>{e(Z())},children:"Add"})]})}function W(){g("Authentication");const{username:e,token:t,error:n,pending:a}=_((e=>e.auth));return Object(B.jsxs)("div",{children:[Object(B.jsx)("p",{children:t?`You are logged in as '${e}'`:"You are not logged in"}),a?Object(B.jsx)("p",{children:"Please wait..."}):t?Object(B.jsx)(J,{}):Object(B.jsx)(Q,{}),n?Object(B.jsx)("span",{style:{color:"red"},children:n}):null]})}const Q=()=>{const e=O(),[t,n]=Object(a.useState)();return Object(B.jsxs)("div",{children:[Object(B.jsx)("input",{placeholder:"kbase token",type:"text",value:null!==t&&void 0!==t?t:"",onChange:e=>n(e.target.value)}),Object(B.jsx)("button",{onClick:()=>{t?e(k(t)):alert("Please enter a kbase token")},children:"Login"})]})},J=()=>{const e=O();return Object(B.jsx)("div",{children:Object(B.jsx)("button",{onClick:()=>e(N()),children:"Logout of KBase"})})};var D=n(12),G=n.n(D),z=n(41),H=n(32),M=n.n(H);const R=e=>{var t;const n=(null!==(t=e.options)&&void 0!==t?t:[]).some((e=>"options"in e?e.options.some((e=>e.icon)):e.icon)),a=[M.a["react-select"],e.className];return"right"===e.horizontalMenuAlign&&a.push(M.a["react-select--right"]),Object(B.jsx)(z.a,{...e,formatOptionLabel:e=>Object(B.jsxs)("span",{className:M.a.option_content,children:[n&&Object(B.jsx)("span",{className:M.a.option_content_icon,children:e.icon}),e.label]}),className:a.join(" "),classNamePrefix:"react-select"})};var V=n(3),U=n(47),$=n.n(U);const{DropdownIndicator:ee}=V.p,te=e=>{const t=e.children;return Object(B.jsx)(R,{...e,value:null,className:[$.a.dropdown,e.className].join(" "),components:{DropdownIndicator:e=>Object(B.jsx)(ee,{...e,children:t})}})};function ne(){return Object(B.jsxs)("header",{className:G.a.topbar,children:[Object(B.jsx)("div",{className:G.a.topbar_item,children:Object(B.jsx)(ce,{})}),Object(B.jsx)("div",{className:G.a.topbar_item,children:Object(B.jsx)("img",{src:"data:image/png;base64,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",alt:""})}),Object(B.jsx)("div",{className:[G.a.topbar_item,G.a.stretch].join(" "),children:Object(B.jsx)(oe,{})}),Object(B.jsx)("div",{className:G.a.topbar_item,children:Object(B.jsx)(ie,{})}),Object(B.jsx)("div",{className:G.a.topbar_item,children:Object(B.jsx)(ae,{})})]})}const ae=()=>{const e=Object(u.f)();return Object(B.jsx)("div",{className:G.a.login_menu,children:Object(B.jsx)(te,{horizontalMenuAlign:"right",options:[{options:[{value:"",icon:void 0,label:Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{children:"First Last"}),Object(B.jsx)("div",{className:G.a.login_menu_username,children:"username"})]})}]},{options:[{value:"#your_profile",icon:Object(B.jsx)(T.a,{icon:F.t}),label:"Your Profile"},{value:"#your_account",icon:Object(B.jsx)(T.a,{icon:F.i}),label:"Your Account"}]},{options:[{value:"#sign_out",icon:Object(B.jsx)(T.a,{icon:F.p}),label:"Sign Out"}]}],onChange:t=>{t&&"value"in t&&e.push(null===t||void 0===t?void 0:t.value)},children:Object(B.jsxs)("div",{className:G.a.login_menu_button,children:[Object(B.jsx)(T.a,{className:G.a.login_menu_icon,icon:F.r}),Object(B.jsx)(T.a,{icon:F.q})]})})})},ce=()=>Object(B.jsx)("div",{className:G.a.hamburger_menu,children:Object(B.jsx)(te,{options:[{options:[{value:window.location.origin+"/#narrativemanager/start",icon:Object(B.jsx)(T.a,{icon:F.g}),label:"Narrative Interface"},{value:window.location.origin+"/#narrativemanager/new",icon:Object(B.jsx)(T.a,{icon:F.k}),label:"New Narrative"},{value:window.location.origin+"/#jgi-search",icon:Object(B.jsx)(T.a,{icon:F.n}),label:"JGI Search"},{value:window.location.origin+"/#biochem-search",icon:Object(B.jsx)(T.a,{icon:F.n}),label:"Biochem Search"}]},{options:[{value:window.location.origin+"/#about/services",icon:Object(B.jsx)(T.a,{icon:F.o}),label:"KBase Services Status"}]},{options:[{value:window.location.origin+"/#about",icon:Object(B.jsx)(T.a,{icon:F.j}),label:"About"},{value:"https://kbase.us/contact-us",icon:Object(B.jsx)(T.a,{icon:F.e}),label:"Contact KBase"},{value:"https://kbase.us/narrative-guide/",icon:Object(B.jsx)(T.a,{icon:F.l}),label:"Support"}]}],onChange:e=>{e&&"value"in e&&e.value&&(window.location.href=e.value)},children:Object(B.jsx)(T.a,{className:G.a.hamburger_menu_icon,icon:F.a})})}),oe=()=>{const e=_((e=>e.layout.pageTitle));return Object(B.jsx)("div",{className:G.a.page_title,children:Object(B.jsx)("span",{children:e||""})})},ie=()=>{const e=_((e=>e.layout.environment));if("production"===e)return null;const t={ci:F.h,unknown:F.m,appdev:F.v}[e],n={ci:"CI",unknown:"??",appdev:"APPDEV"}[e];return Object(B.jsxs)("div",{className:G.a.environment,children:[Object(B.jsx)("span",{children:n}),Object(B.jsx)(T.a,{icon:t})]})};function se(){const e=O(),t=function(e){const t=document.cookie.split(";").map((e=>e.trim().split("="))).find((([t,n])=>t.trim()===e));return t?t[1]:void 0}("kbase_session");return Object(a.useEffect)((()=>{t&&e(k(t))}),[e,t]),Object(a.useEffect)((()=>{e(m("ci"))}),[e]),Object(B.jsx)(j.a,{basename:"/services/static-content",children:Object(B.jsxs)("div",{className:l.a.container,children:[Object(B.jsx)("div",{className:l.a.topbar,children:Object(B.jsx)(ne,{})}),Object(B.jsx)("div",{className:l.a.left_navbar,children:Object(B.jsx)(S,{})}),Object(B.jsx)("div",{className:l.a.page_content,children:Object(B.jsxs)(u.c,{children:[Object(B.jsx)(u.a,{path:"/count",children:Object(B.jsx)(X,{})}),Object(B.jsx)(u.a,{path:"/auth",children:Object(B.jsx)(W,{})}),Object(B.jsx)(u.a,{exact:!0,path:"/",children:Object(B.jsx)(y,{})}),Object(B.jsx)(u.a,{path:"*",children:Object(B.jsx)(L,{})})]})})]})})}const re=()=>Object(d.a)({reducer:{count:Y,auth:w,layout:h}}),le=re();var je=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((({getCLS:t,getFID:n,getFCP:a,getLCP:c,getTTFB:o})=>{t(e),n(e),a(e),c(e),o(e)}))};i.a.render(Object(B.jsx)(c.a.StrictMode,{children:Object(B.jsx)(s.a,{store:le,children:Object(B.jsx)(se,{})})}),document.getElementById("root")),je()}},[[79,1,2]]]);
//# sourceMappingURL=main.de27ab2a.chunk.js.map