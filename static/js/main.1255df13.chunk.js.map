{"version":3,"sources":["features/layout/TopBar.module.scss","features/layout/LeftNavBar.module.scss","app/App.module.scss","features/layout/layoutSlice.ts","common/hooks.ts","features/auth/authSlice.ts","features/layout/LeftNavBar.tsx","features/layout/PageNotFound.tsx","features/navigator/Navigator.tsx","features/count/countSlice.ts","features/count/Counter.tsx","features/auth/Auth.tsx","features/layout/TopBar.tsx","common/assets/logo/46_square.png","app/App.tsx","common/cookie.ts","app/store.ts","reportWebVitals.ts","index.tsx"],"names":["module","exports","initialState","pageTitle","undefined","environment","pageSlice","createSlice","name","reducers","setPageTitle","state","action","payload","setEnvironment","actions","useAppDispatch","useDispatch","useAppSelector","useSelector","defaultPageTitle","document","title","usePageTitle","dispatch","useEffect","AUTH_SERVICE","process","pending","authFromToken","createAsyncThunk","token","a","fetch","method","headers","Authorization","resp","ok","errmsg","statusText","json","e","error","message","Error","tokenInfo","revokeCurrentToken","_","thunkAPI","id","getState","auth","_tokenInfo","authSlice","extraReducers","builder","addCase","fulfilled","username","user","rejected","LeftNavBar","className","classes","nav_list","path","desc","icon","faCompass","faUsers","faBook","faSearch","faSuitcase","faIdCard","faBullhorn","faExclamation","NavItem","location","useLocation","itemClasses","nav_item","pathname","active","to","nav_icon","nav_desc","PageNotFound","Navigator","countSlice","count","increment","countStatus","Counter","currentCount","Count","onClick","Auth","style","color","AuthForm","useState","setToken","placeholder","type","value","onChange","target","alert","LogoutForm","TopBar","topbar","topbar_item","src","alt","stretch","join","login_menu","faUser","faSortDown","HamburgerMenu","hamburger_menu","faBars","PageTitle","layout","page_title","Enviroment","env","ci","faFlask","unknown","faQuestionCircle","appdev","faWrench","txt","App","key","cookie","split","map","kv","trim","find","k","getCookie","basename","container","left_navbar","page_content","exact","createStore","configureStore","reducer","store","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1255df13.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"topbar\":\"TopBar_topbar__3xoma\",\"topbar_item\":\"TopBar_topbar_item__20292\",\"stretch\":\"TopBar_stretch__5Y5fJ\",\"hamburger_menu\":\"TopBar_hamburger_menu__1Nc7c\",\"page_title\":\"TopBar_page_title__1OjqW\",\"environment\":\"TopBar_environment__Lx09_\",\"login_menu\":\"TopBar_login_menu__agXq7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav_list\":\"LeftNavBar_nav_list__iLWGq\",\"nav_item\":\"LeftNavBar_nav_item__35CL2\",\"active\":\"LeftNavBar_active__38wjJ\",\"nav_icon\":\"LeftNavBar_nav_icon__e2bJK\",\"nav_desc\":\"LeftNavBar_nav_desc__1vXc6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__MiK3W\",\"left_navbar\":\"App_left_navbar__SQTn7\",\"page_content\":\"App_page_content__1GAyC\",\"topbar\":\"App_topbar__Qqa7Z\"};","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\ninterface PageState {\n  pageTitle?: string;\n  environment: 'unknown' | 'production' | 'ci' | 'appdev';\n}\n\nconst initialState: PageState = {\n  pageTitle: undefined,\n  environment: 'unknown',\n};\n\nexport const pageSlice = createSlice({\n  name: 'page',\n  initialState,\n  reducers: {\n    setPageTitle: (state, action: PayloadAction<string | undefined>) => {\n      state.pageTitle = action.payload;\n    },\n    setEnvironment: (\n      state,\n      action: PayloadAction<PageState['environment']>\n    ) => {\n      state.environment = action.payload;\n    },\n  },\n});\n\nexport default pageSlice.reducer;\nexport const { setPageTitle, setEnvironment } = pageSlice.actions;\n","import { useEffect } from 'react';\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from '../app/store';\nimport { setPageTitle } from '../features/layout/layoutSlice';\n\n// Use throughout the app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n\nconst defaultPageTitle = document.title;\n// Hook to set the page & document title. Resets the title on unmount\nexport const usePageTitle = (title: string) => {\n  const dispatch = useAppDispatch();\n  useEffect(() => {\n    dispatch(setPageTitle(title));\n    document.title = `KBase${title !== undefined ? `: ${title}` : ''}`;\n    return () => {\n      dispatch(setPageTitle(undefined));\n      document.title = defaultPageTitle;\n    };\n  }, [dispatch, title]);\n  return null;\n};\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n\nconst AUTH_SERVICE = process.env.REACT_APP_AUTH_SERIVCE_URL;\n\ninterface TokenInfo {\n  created: number;\n  expires: number;\n  id: string;\n  name: string | null;\n  type: string;\n  user: string;\n  cachefor: number;\n}\n\ninterface AuthState {\n  token?: string;\n  username?: string;\n  error?: string;\n  pending?: boolean;\n  _tokenInfo?: TokenInfo;\n}\n\nconst initialState: AuthState = {\n  pending: false,\n};\n\nexport const authFromToken = createAsyncThunk(\n  'auth/authFromToken',\n  async (token: string) => {\n    const resp = await fetch(`${AUTH_SERVICE}/api/V2/token`, {\n      method: 'GET',\n      headers: {\n        Authorization: token || '',\n      },\n    });\n    if (!resp.ok) {\n      let errmsg = resp.statusText;\n      try {\n        const e = (await resp.json()).error;\n        errmsg += `: ${e.message}`;\n      } catch {\n        // no-op\n      }\n      throw new Error(`Failed to validate token: \"${errmsg}\"`);\n    }\n    const tokenInfo = (await resp.json()) as TokenInfo;\n    return { token, tokenInfo };\n  }\n);\n\nexport const revokeCurrentToken = createAsyncThunk<\n  void,\n  void,\n  { state: { auth: AuthState } }\n>('auth/revokeCurrentToken', async (_, thunkAPI) => {\n  const id = thunkAPI.getState().auth._tokenInfo?.id;\n  const token = thunkAPI.getState().auth.token;\n  if (!id || !token) {\n    throw new Error('Failed to revoke token: No token to revoke');\n  }\n  const resp = await fetch(`${AUTH_SERVICE}/tokens/revoke/${id}`, {\n    method: 'DELETE',\n    headers: {\n      Authorization: token || '',\n    },\n  });\n  if (!resp.ok) {\n    throw new Error(`Failed to revoke token: ${resp.statusText}`);\n  }\n});\n\nexport const authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    builder\n      .addCase(authFromToken.pending, (state) => {\n        state.error = undefined;\n        state.pending = true;\n      })\n      .addCase(authFromToken.fulfilled, (state, action) => {\n        state.token = action.payload.token;\n        state.username = action.payload.tokenInfo.user;\n        state._tokenInfo = action.payload.tokenInfo;\n        state.pending = false;\n      })\n      .addCase(authFromToken.rejected, (state, action) => {\n        state.error = action.error.message;\n        state.username = undefined;\n        state._tokenInfo = undefined;\n        state.pending = false;\n      })\n      .addCase(revokeCurrentToken.pending, () => undefined)\n      .addCase(revokeCurrentToken.fulfilled, () => {\n        return initialState;\n      })\n      .addCase(revokeCurrentToken.rejected, () => undefined),\n});\n\nexport default authSlice.reducer;\n","import { FC } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport classes from './LeftNavBar.module.scss';\nimport { FontAwesomeIcon as FAIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faExclamation,\n  faCompass,\n  faUsers,\n  faBook,\n  faSearch,\n  faSuitcase,\n  faIdCard,\n  faBullhorn,\n  IconDefinition,\n} from '@fortawesome/free-solid-svg-icons';\n\nexport default function LeftNavBar() {\n  return (\n    <nav>\n      <ul className={classes.nav_list}>\n        <NavItem path=\"/\" desc=\"Navigator\" icon={faCompass} />\n        <NavItem path=\"/orgs\" desc=\"Orgs\" icon={faUsers} />\n        <NavItem path=\"/catalog\" desc=\"Catalog\" icon={faBook} />\n        <NavItem path=\"/search\" desc=\"Search\" icon={faSearch} />\n        <NavItem path=\"/jobs\" desc=\"Jobs\" icon={faSuitcase} />\n        <NavItem path=\"/account\" desc=\"Account\" icon={faIdCard} />\n        <NavItem path=\"/feeds\" desc=\"Feeds\" icon={faBullhorn} />\n        <NavItem path=\"/count\" desc=\"Count\" icon={faExclamation} />\n        <NavItem path=\"/auth\" desc=\"Auth\" icon={faExclamation} />\n      </ul>\n    </nav>\n  );\n}\n\nconst NavItem: FC<{ path: string; desc: string; icon: IconDefinition }> = ({\n  path,\n  desc,\n  icon,\n}) => {\n  const location = useLocation();\n  let itemClasses = classes.nav_item;\n  if (location.pathname === path) {\n    itemClasses += ` ${classes.active}`;\n  }\n  return (\n    <li className={itemClasses} key={path}>\n      <Link to={path}>\n        <FAIcon className={classes.nav_icon} icon={icon} />\n        <span className={classes.nav_desc}>{desc}</span>\n      </Link>\n    </li>\n  );\n};\n","export default function PageNotFound() {\n  return (\n    <section>\n      <h2>Page Not Found.</h2>\n    </section>\n  );\n}\n","import { usePageTitle } from '../../common/hooks';\n\nexport default function Navigator() {\n  usePageTitle('Narrative Navigator');\n  return (\n    <section>\n      <h2>Nothing here yet</h2>\n    </section>\n  );\n}\n","import { createSlice } from '@reduxjs/toolkit';\nimport type { RootState } from '../../app/store';\n\n// Define a type for the slice state\ninterface CountState {\n  count: number;\n}\n\n// Define the initial state using that type\nconst initialState: CountState = {\n  count: 0,\n};\n\nexport const countSlice = createSlice({\n  name: 'count',\n  // `createSlice` will infer the state type from the `initialState` argument\n  initialState,\n  reducers: {\n    increment: (state) => {\n      state.count += 1;\n    },\n  },\n});\n\nexport default countSlice.reducer;\nexport const { increment } = countSlice.actions;\n// Other code such as selectors can use the imported `RootState` type\nexport const countStatus = (state: RootState) => state.count.count;\n","import {\n  useAppSelector,\n  useAppDispatch,\n  usePageTitle,\n} from '../../common/hooks';\nimport { countStatus, increment } from '../count/countSlice';\n\nconst Counter = () => {\n  const currentCount = useAppSelector(countStatus);\n  return <>{currentCount}</>;\n};\n\nexport default function Count() {\n  usePageTitle('Count');\n  const dispatch = useAppDispatch();\n  const doIncrement = () => {\n    dispatch(increment());\n  };\n  return (\n    <section>\n      <h2>\n        The count is: <Counter />\n      </h2>\n      <button onClick={() => doIncrement()}>Add</button>\n    </section>\n  );\n}\n","import { useState } from 'react';\nimport {\n  useAppSelector,\n  useAppDispatch,\n  usePageTitle,\n} from '../../common/hooks';\nimport { authFromToken, revokeCurrentToken } from './authSlice';\n\nexport default function Auth() {\n  usePageTitle('Authentication');\n  const { username, token, error, pending } = useAppSelector(\n    (state) => state.auth\n  );\n  return (\n    <div>\n      <p>\n        {token ? `You are logged in as '${username}'` : `You are not logged in`}\n      </p>\n      {pending ? <p>Please wait...</p> : token ? <LogoutForm /> : <AuthForm />}\n      {error ? <span style={{ color: 'red' }}>{error}</span> : null}\n    </div>\n  );\n}\n\nconst AuthForm = () => {\n  const dispatch = useAppDispatch();\n  const [token, setToken] = useState<string>();\n  const doLogin = () => {\n    if (token) {\n      dispatch(authFromToken(token));\n    } else {\n      alert('Please enter a kbase token');\n    }\n  };\n  return (\n    <div>\n      <input\n        placeholder=\"kbase token\"\n        type=\"text\"\n        value={token ?? ''}\n        onChange={(e) => setToken(e.target.value)}\n      />\n      <button onClick={doLogin}>Login</button>\n    </div>\n  );\n};\n\nconst LogoutForm = () => {\n  const dispatch = useAppDispatch();\n  return (\n    <div>\n      <button onClick={() => dispatch(revokeCurrentToken())}>\n        Logout of KBase\n      </button>\n    </div>\n  );\n};\n","import { FC } from 'react';\nimport { useAppSelector } from '../../common/hooks';\nimport classes from './TopBar.module.scss';\nimport { FontAwesomeIcon as FAIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faBars,\n  faFlask,\n  faQuestionCircle,\n  faSortDown,\n  faUser,\n  faWrench,\n} from '@fortawesome/free-solid-svg-icons';\n\nimport logo from '../../common/assets/logo/46_square.png';\n\nexport default function TopBar() {\n  return (\n    <header className={classes.topbar}>\n      <div className={classes.topbar_item}>\n        <HamburgerMenu />\n      </div>\n      <div className={classes.topbar_item}>\n        <img src={logo} alt=\"\" />\n      </div>\n      <div className={[classes.topbar_item, classes.stretch].join(' ')}>\n        <PageTitle />\n      </div>\n      <div className={classes.topbar_item}>\n        <Enviroment />\n      </div>\n      <div className={classes.login_menu}>\n        <FAIcon icon={faUser} />\n        <FAIcon icon={faSortDown} />\n      </div>\n    </header>\n  );\n}\n\nconst HamburgerMenu: FC = () => {\n  return (\n    <div className={classes.hamburger_menu}>\n      <FAIcon icon={faBars} />\n    </div>\n  );\n};\n\nconst PageTitle: FC = () => {\n  const title = useAppSelector((state) => state.layout.pageTitle);\n  return (\n    <div className={classes.page_title}>\n      <span>{title || ''}</span>\n    </div>\n  );\n};\n\nconst Enviroment: FC = () => {\n  const env = useAppSelector((state) => state.layout.environment);\n  if (env === 'production') return null;\n  const icon = {\n    ci: faFlask,\n    unknown: faQuestionCircle,\n    appdev: faWrench,\n  }[env];\n  const txt = {\n    ci: 'CI',\n    unknown: '??',\n    appdev: 'APPDEV',\n  }[env];\n  return (\n    <div className={classes.environment}>\n      <span>{txt}</span>\n      <FAIcon icon={icon} />\n    </div>\n  );\n};\n","export default \"data:image/png;base64,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\"","import classes from './App.module.scss';\n\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { useAppDispatch } from '../common/hooks';\nimport { useEffect } from 'react';\nimport { authFromToken } from '../features/auth/authSlice';\nimport { setEnvironment } from '../features/layout/layoutSlice';\nimport { getCookie } from '../common/cookie';\n\nimport LeftNavBar from '../features/layout/LeftNavBar';\nimport PageNotFound from '../features/layout/PageNotFound';\n\nimport Navigator from '../features/navigator/Navigator';\nimport Count from '../features/count/Counter';\nimport Auth from '../features/auth/Auth';\nimport TopBar from '../features/layout/TopBar';\n\nexport default function App() {\n  const dispatch = useAppDispatch();\n\n  // Pull token from cookie. If it exists, use it for auth.\n  const token = getCookie('kbase_session');\n  useEffect(() => {\n    if (token) dispatch(authFromToken(token));\n  }, [dispatch, token]);\n\n  // Placeholder code for determining environment.\n  useEffect(() => {\n    dispatch(setEnvironment('ci'));\n  }, [dispatch]);\n\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <div className={classes.container}>\n        <div className={classes.topbar}>\n          <TopBar />\n        </div>\n        <div className={classes.left_navbar}>\n          <LeftNavBar />\n        </div>\n        <div className={classes.page_content}>\n          <Switch>\n            <Route path=\"/count\">\n              <Count />\n            </Route>\n            <Route path=\"/auth\">\n              <Auth />\n            </Route>\n            <Route exact path=\"/\">\n              <Navigator />\n            </Route>\n            <Route path=\"*\">\n              <PageNotFound />\n            </Route>\n          </Switch>\n        </div>\n      </div>\n    </Router>\n  );\n}\n","export function getCookie(key: string) {\n  const cookie = document.cookie\n    .split(';')\n    .map((kv) => kv.trim().split('='))\n    .find(([k, _v]) => k.trim() === key);\n  if (cookie) {\n    return cookie[1];\n  } else {\n    return undefined;\n  }\n}\n","import { configureStore } from '@reduxjs/toolkit';\nimport count from '../features/count/countSlice';\nimport auth from '../features/auth/authSlice';\nimport layout from '../features/layout/layoutSlice';\n\nconst createStore = () =>\n  configureStore({\n    reducer: { count, auth, layout },\n  });\n\nexport const store = createStore();\nexport const createTestStore = createStore;\n\n// Infer the `RootState` and `AppDispatch` types from the store itself\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.scss';\nimport App from './app/App';\nimport { store } from './app/store';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}